const arrGSKILL = [
  {
    id: 0,
    name: "G.SKILL 16GB (2x8GB) 4000MHz CL17 Trident Z Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 4000MHz CL17 Trident Z Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 4000MHz CL17 Trident Z Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "4000 MHz",
    latency: "CL 17",
    tension: "1,35 V",
    color: "Silver",
    producentCode: "F4-4000C17D-16GTRS",
  },
  {
    id: 1,
    name: "G.SKILL 32GB (2x16GB) 3200MHz CL16 Trident Z Royal Silver",
    image:
      "images/products/G.SKILL 32GB (2x16GB) 3200MHz CL16 Trident Z Royal Silver.png",
    url: "pages/products/G.SKILL 32GB (2x16GB) 3200MHz CL16 Trident Z Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "32 GB",
    memoryBracket: "(2x16 GB)",
    frequency: "3200 MHz",
    latency: "CL 16",
    tension: "1,35 V",
    color: "Silver",
    producentCode: "F4-3200C16D-32GTRS",
  },
  {
    id: 2,
    name: "G.SKILL 16GB (2x8GB) 4800MHz CL18 Trident Z Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 4800MHz CL18 Trident Z Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 4800MHz CL18 Trident Z Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "4800 MHz",
    latency: "CL 18",
    tension: "1,5 V",
    color: "Silver",
    producentCode: "F4-4800C18D-16GTRS",
  },
  {
    id: 3,
    name: "G.SKILL 16GB (2x8GB) 3600MHz CL18 TridentZ Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 3600MHz CL18 TridentZ Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 3600MHz CL18 TridentZ Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "3600 MHz",
    latency: "CL 18",
    tension: "1,35 V",
    color: "Silver",
    producentCode: "F4-3600C18D-16GTRS",
  },
  {
    id: 4,
    name: "G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "3200 MHz",
    latency: "CL 16",
    tension: "1,35 V",
    color: "Silver",
    producentCode: "F4-3200C16D-16GTRS",
  },
  {
    id: 5,
    name: "G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Gold",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Gold.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 3200MHz CL16 TridentZ Royal Gold.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "3200 MHz",
    latency: "CL 16",
    tension: "1,35 V",
    color: "Gold",
    producentCode: "F4-3200C16D-16GTRG",
  },
  {
    id: 6,
    name: "G.SKILL 16GB (2x8GB) 4266MHz CL19 TridentZ Royal Gold",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 4266MHz CL19 TridentZ Royal Gold.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 4266MHz CL19 TridentZ Royal Gold.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "4266 MHz",
    latency: "CL 19",
    tension: "1,4 V",
    color: "Gold",
    producentCode: "F4-4266C19D-16GTRG",
  },
  {
    id: 7,
    name: "G.SKILL 16GB (2x8GB) 4600MHz CL18 TridentZ Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 4600MHz CL18 TridentZ Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 4600MHz CL18 TridentZ Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "4600 MHz",
    latency: "CL 18",
    tension: "1,45 V",
    color: "Silver",
    producentCode: "F4-4600C18D-16GTRS",
  },
  {
    id: 8,
    name: "G.SKILL 16GB (2x8GB) 3200MHz CL14 TridentZ Royal Silver",
    image:
      "images/products/G.SKILL 16GB (2x8GB) 3200MHz CL14 TridentZ Royal Silver.png",
    url: "pages/products/G.SKILL 16GB (2x8GB) 3200MHz CL14 TridentZ Royal Silver.html",
    brand: "G.SKILL",
    series: "Trident Z Royal",
    type: "DDR4",
    memory: "16 GB",
    memoryBracket: "(2x8 GB)",
    frequency: "3200 MHz",
    latency: "CL 14",
    tension: "1,35 V",
    color: "Silver",
    producentCode: "F4-3200C14D-16GTRS",
  },
];

let productsSectionShop = document.querySelector(".gskill-products-section");

let numSearchItem = document.getElementById("num-search-item");

function loadProducts(items) {
  productsSectionShop.innerHTML = "";
  for (let i = 0; i < items.length; i++) {
    let newProduct = document.createElement("div");
    newProduct.classList.add("p-0");
    newProduct.innerHTML = `
     <a
     href="../${items[i].url}"
     class="card rounded text-black text-decoration-none p-0">
     <img
       src="../${items[i].image}"
       alt="${items[i].name}"
       class="card-img-top" />
     <div class="card-body">
       <h6 class="card-title">
         ${items[i].name}
       </h6>
       <div class="product-description d-flex my-4">
         <div class="left-section">
           <p>Memory:</p>
           <p>Type:</p>
           <p>Frequency:</p>
           <p>Latency:</p>
         </div>
         <div class="right-section">
           <p>
             ${items[i].memory}
             <span class="d-none d-sm-inline-block">${items[i].memoryBracket}</span>
           </p>
           <p>
           ${items[i].type}
           </p>
           <p>${items[i].frequency}</p>
           <p>${items[i].latency}</p>
         </div>
       </div>
       <div class="btn-group d-flex mb-3">
         <button
           class="btn btn-warning btn-sm w-100 text-black"
           role="button"
           type="button">
           SPRAWDÅ¹
         </button>
         <button
           class="btn btn-primary btn-sm button-cart-shopping"
           role="button"
           type="button">
           <i class="fa-solid fa-cart-shopping mx-1"></i>
         </button>
         <button
           class="btn btn-outline-danger btn-sm button-heart"
           role="button"
           type="button">
           <i class="fa-solid fa-heart mx-1"></i>
         </button>
       </div>
     </div> </a
   >`;
    productsSectionShop.appendChild(newProduct);
  }
  numSearchItem.innerText = items.length;
}

document.onload = loadProducts(arrGSKILL);

function filterProducts() {
  const nameFilter = document.getElementById("filter-name").value.toLowerCase();
  const memoryFilter = document.getElementById("filter-memory").value;
  const typeFilter = document.getElementById("filter-type").value;
  const frequencyFilter = document.getElementById("filter-frequency").value;
  const latencyFilter = document.getElementById("filter-latency").value;

  const filteredProducts = arrGSKILL.filter((item) => {
    return (
      (nameFilter === "" || item.name.toLowerCase().includes(nameFilter)) &&
      (memoryFilter === "" || item.memory === memoryFilter) &&
      (typeFilter === "" || item.type === typeFilter) &&
      (frequencyFilter === "" || item.frequency === frequencyFilter) &&
      (latencyFilter === "" || item.latency === latencyFilter)
    );
  });

  loadProducts(filteredProducts);
}

const filterButton = document.querySelector(".filter.submit button");
filterButton.addEventListener("click", function (event) {
  event.preventDefault();
  filterProducts();
});

const nameFilterInput = document.getElementById("filter-name");
nameFilterInput.addEventListener("input", function () {
  filterProducts();
});

// Buttons

const heartBtn = document.querySelectorAll(".button-heart");
const heartFavNum = document.getElementById("num-add-heart");

const cartBtn = document.querySelectorAll(".button-cart-shopping");
const cartAddNum = document.getElementById("num-add-cart");

heartBtn.forEach(function (heartBtn) {
  var switchButton = 1;
  heartBtn.addEventListener("click", function (event) {
    if (switchButton === 1) {
      event.preventDefault();
      heartBtn.classList.add("active");
      ++heartFavNum.innerHTML;
      switchButton = 2;
    } else if (switchButton === 2) {
      event.preventDefault();
      heartBtn.classList.remove("active");
      --heartFavNum.innerHTML;
      switchButton = 1;
    }
  });
});

cartBtn.forEach(function (cartBtn) {
  cartBtn.addEventListener("click", function (event) {
    event.preventDefault();
    cartBtn.classList.add("active");
    ++cartAddNum.innerHTML;
    setTimeout(() => {
      cartBtn.classList.remove("active");
    }, 250);
  });
});
